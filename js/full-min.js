`use strict`;angular.module(`portfolioApp`,[`ngRoute`],function($httpProvider){$httpProvider.defaults.headers.post[`Content-Type`]=`application/x-www-form-urlencoded;charset=utf-8`;var param=function(obj){var query='',name,value,fullSubName,subName,subValue,innerObj,i;for(name in obj){value=obj[name];if(value instanceof Array){for(i=0;i<value.length;++i){subValue=value[i];fullSubName=name+'['+i+']';innerObj={};innerObj[fullSubName]=subValue;query+=param(innerObj)+'&'}}
else if(value instanceof Object){for(subName in value){subValue=value[subName];fullSubName=name+'['+subName+']';innerObj={};innerObj[fullSubName]=subValue;query+=param(innerObj)+'&'}}
else if(value!==undefined&&value!==null)
query+=encodeURIComponent(name)+'='+encodeURIComponent(value)+'&'}
return query.length?query.substr(0,query.length-1):query};$httpProvider.defaults.transformRequest=[function(data){return angular.isObject(data)&&String(data)!=='[object File]'?param(data):data}]});angular.module(`portfolioApp`).config([`navProviderProvider`,function(navProviderProvider){navProviderProvider.configNav([{text:`UX/UI Design`,url:`/ui`},{text:`Responsive Web Development`,url:`/responsive`},{text:`Technical Documentation`,url:`/techdoc`},{text:`Contact Me`,url:`/contact`}])}]).config([`portfolioProviderProvider`,function(portfolioProviderProvider){portfolioProviderProvider.configPortfolio([{title:`The Long Shot Photography Contest`,imgSmall:`/images/longshot-med.png`,imgSmallAlt:`The Long Shot Photography Contest`,imgLarge:`/images/longshot-large.png`,imgLargeAlt:`The Long Shot Photography Contest`,text:[`For the Long Shot Photography Contest, I created an online home: user profiles, uploadable image galleries, and automated contest scheduling. All in an unassuming, dark frame to accentuate the art.`,`I built the front end with HTML/CSS/Javascript (jQuery), and the back end with PHP/MySQL.`]},{title:`Gunborn: The Cygnei Saga`,imgSmall:`/images/gunborn-med.png`,imgSmallAlt:`Gunborn: The Cygnei Saga`,imgLarge:`/images/gunborn-large.png`,imgLargeAlt:`Gunborn: The Cygnei Saga`,text:[`Gunborn was a collaboration with Idaho area web developer/sci-fi nerd John Ammon. He had a costume idea and wanted a universe to go with it.`,`Photoshop design by John Ammon. Custom theming over Drupal (HTML/CSS/PHP) by Chris Wong Sick Hong.`]},{title:`My Author Website`,imgSmall:`/images/book-med.png`,imgSmallAlt:`My Author Website`,imgLarge:`/images/book-large.png`,imgLargeAlt:`My Author Website`,text:[`I'm not just the paid shill. I'm also a client. (Does that line still work?)`,`Custom theming over Drupal (HTML/CSS/PHP). Icon fonts. Dreams.`]}])}]).config([`dialogProviderProvider`,function(dialogProviderProvider){dialogProviderProvider.configDialog([{key:`emailSuccess`,titleFirstWord:`Email`,titleRestWords:`Sent`,message:[`Thanks for contacting me! I'll reach out to you shortly with a reply.`],okLabel:`Cool!`,retryLabel:``,cancelLabel:``},{key:`emailMalformed`,titleFirstWord:`Email`,titleRestWords:`Not Sent`,message:[`Hmm...something about your e-mail doesn't smell right.`,`Did you remember to fill out all fields?`],okLabel:``,retryLabel:``,cancelLabel:`Return`},{key:`emailFailure`,titleFirstWord:`Email`,titleRestWords:`Not Sent`,message:[`Uh-oh. E-mail services are down right now, but we're working to fix this as soon as possible.`,`In the meantime, feel free to contact me at chris (at) chriswsh (dot) com or (918) 271-9352.`],okLabel:``,retryLabel:``,cancelLabel:`Return`}])}]);angular.module(`portfolioApp`).config([`$routeProvider`,function($routeProvider){$routeProvider.when("/",{templateUrl:`pages/landing.html`,controller:`subController`}).when("/ui",{templateUrl:`pages/ui.html`,controller:`subController`}).when("/responsive",{templateUrl:`pages/responsive.html`,controller:`subController`}).when("/techdoc",{templateUrl:`pages/tech.html`,controller:`subController`}).when("/contact",{templateUrl:`pages/contact.html`,controller:`subController`}).when("/404",{templateUrl:`pages/404.html`,controller:`subController`}).otherwise({redirectTo:`/404`})}]);angular.module(`portfolioApp`).provider(`navProvider`,function(){var _defaultEntry={firstWord:`Error`,nextWords:`Nav Config`,url:`#`,active:!1};var _navEntries=[];var _activePath=``;var _tmpText=``;var _parseNavEntry=function(){if(typeof arguments[0].text!==`string`||typeof arguments[0].url!==`string`){_navEntries.push(_defaultEntry)}
else{if(arguments[0].text.indexOf(` `)===-1){_navEntries.push({firstWord:arguments[0].text,nextWords:``,url:arguments[0].url,active:!1})}
else{_navEntries.push({firstWord:arguments[0].text.slice(0,arguments[0].text.indexOf(` `)),nextWords:arguments[0].text.slice(arguments[0].text.indexOf(` `)),url:arguments[0].url,active:!1})}}}
var _setActiveIfActive=function(navEntry){if(navEntry.url===_activePath){navEntry.active=!0}
else{navEntry.active=!1}}
this.configNav=function(aNavObjects){if(!Array.isArray(aNavObjects)){_navEntries.push(_defaultEntry);return!1}
aNavObjects.forEach(_parseNavEntry)}
this.$get=function(){return{getNavBar:function(){return _navEntries},setActiveLink:function(path){_activePath=path;_navEntries.forEach(_setActiveIfActive)}}}}).provider(`portfolioProvider`,function(){var _defaultEntry={title:`Portfolio Provider Config Error`,imgSmall:``,imgSmallAlt:``,imgLarge:``,imgLargeAlt:``,text:[`Please check the config code for portfolioProvider.`]}
var _portfolioEntries=[];var _parsePortfolioEntry=function(){if(typeof arguments[0].title!==`string`||typeof arguments[0].imgSmall!==`string`||typeof arguments[0].imgSmallAlt!==`string`||typeof arguments[0].imgLarge!==`string`||typeof arguments[0].imgLargeAlt!==`string`||!Array.isArray(arguments[0].text)){_portfolioEntries.push(_defaultEntry)}
else{_portfolioEntries.push(arguments[0])}}
this.configPortfolio=function(aPortfolioObjects){if(!Array.isArray(aPortfolioObjects)){_portfolioEntries.push(_defaultEntry);return!1}
aPortfolioObjects.forEach(_parsePortfolioEntry)}
this.$get=function(){return{getPortfolio:function(){return _portfolioEntries}}}}).provider(`dialogProvider`,function(){var _defaultEntry={titleFirstWord:`Dialog`,titleRestWords:`Config Error`,message:[`There was an error configuring the dialog provider.`],okLabel:`OK`,retryLabel:`Retry`,cancelLabel:`Cancel`}
var _dialog={}
var _parseDialogEntry=function(){if(typeof arguments[0].key!==`string`||typeof arguments[0].titleFirstWord!==`string`||typeof arguments[0].titleRestWords!==`string`||!Array.isArray(arguments[0].message)||typeof arguments[0].okLabel!==`string`||typeof arguments[0].retryLabel!==`string`||typeof arguments[0].cancelLabel!==`string`)return!1;_dialog[arguments[0].key]=arguments[0]}
this.configDialog=function(aDialogObjects){if(!Array.isArray(aDialogObjects)){alert('Not Array');return!1}
aDialogObjects.forEach(_parseDialogEntry)}
this.$get=function(){return{getDialog:function(key){var _o={}
if(_dialog.hasOwnProperty(key)){_o=_dialog[key]}
else{_o=_defaultEntry}
if(typeof arguments[1]===`boolean`){_o.modal=arguments[1]}
else{_o.modal=!0}
return _o}}}});angular.module(`portfolioApp`).service(`emailService`,[`$http`,function($http){var _address=``;this.setAddress=function(newAddress){if(typeof newAddress===`string`){_address=newAddress;return!0}
else{return!1}}}]).service(`redirectService`,[`$timeout`,`$q`,function($timeout,$q){var _active=!1;var _currentCall=null;var _defer=null;var _timer=function(count,path){if(!_active)_defer.reject('Timer cancelled');if(count<=0){_defer.resolve(path)}
else{_defer.notify(count--);_currentCall=$timeout(_timer,1000,!1,count,path)}}
this.initTimer=function(delay,path){if(_active){_defer.notify(`Timer already active - cannnot initiate`)}
if(typeof delay!==`number`||typeof path!==`string`)return!1;delay=delay>>0;if(delay<0)delay=0;_active=!0;_defer=$q.defer();$timeout(_timer,1,!1,delay,path);return _defer.promise}
this.cancelTimer=function(){if(!_active)
_active=!1;$timeout.cancel(_currentCall);_currentCall=null;_defer.reject(`Timer cancelled`)}
this.isActive=function(){if(_active)return!0;return!1}}]);angular.module(`portfolioApp`).directive(`smallPrint`,function(){return{restrict:`E`,templateUrl:`directives/smallprint.html`}}).directive(`portfolioSite`,function(){return{restrict:`E`,require:`^parentController`,scope:{data:'='},templateUrl:`directives/portfoliosite.html`}}).directive(`wshDialog`,function(){return{restrict:`E`,require:`^parentController`,scope:{data:`=`,close:`&`},templateUrl:`directives/wshdialog.html`}});angular.module(`portfolioApp`).controller(`parentController`,[`$scope`,`$location`,`$http`,`$window`,`navProvider`,`portfolioProvider`,`dialogProvider`,`redirectService`,function($scope,$location,$http,$window,navProvider,portfolioProvider,dialogProvider,redirectService){_responseCode={yes:1,no:0,cancel:-1}
$scope.navBar=navProvider.getNavBar();$scope.portfolio=portfolioProvider.getPortfolio();$scope.rerouteTimer=0;$scope.dialog={}
$scope.email={contact:``,contactError:``,from:``,fromError:``,message:``,messageError:``,success:!0}
$scope.emailDirty=!1;$scope.changePath=function(path){if($location.path())
$location.path(path)}
$scope.resetEmail=function(){$scope.email={contact:``,contactError:``,from:``,fromError:``,message:``,messageError:``,success:!0}
document.getElementById(`contact-name`).focus()}
$scope.$watch(`email`,function(newValue,oldValue,scope){if(newValue.contact!==``||newValue.from!==``||newValue.message!==``){$scope.emailDirty=!0}else{$scope.emailDirty=!1}
if($scope.email.contact===``){$scope.email.contactError=`Please enter your name.`}
else{$scope.email.contactError=``}
if(($scope.email.from===``||typeof $scope.email.from===`undefined`)){$scope.email.fromError=`Please enter your e-mail address.`}
else{$scope.email.fromError=``}
if($scope.email.message===``){$scope.email.messageError=`We'd prefer not to send a blank message.`}
else{$scope.email.messageError=``}},!0);$scope.$on(`pathChange`,function(event,newPath){if(redirectService.isActive())redirectService.cancelTimer();if($scope.dialog.active)$scope.dialog.active=!1;navProvider.setActiveLink(newPath);if(newPath===`/404`){redirectService.initTimer(30,`/`).then(function onSuccess(newPath){$scope.rerouteTimer=0;$scope.changePath(newPath)},function onFailure(message){$scope.rerouteTimer=0},function onNotify(message){$scope.rerouteTimer=message})}
if(newPath===`/contact`){}
$window.scrollTo(0,0)});$scope.sendEmail=function(){var _ok=!0;if($scope.email.contact===``)_ok=!1;if($scope.email.from===``||typeof $scope.email.from===`undefined`)_ok=!1;if($scope.email.message===``)_ok=!1;if(!_ok){$scope.dialog=dialogProvider.getDialog(`emailMalformed`,!0);$scope.dialog.active=!0;return!1}
$http.post(`https://www.chriswsh.com/php/email.php`,$scope.email).then(function onSuccess(response){if(response.data===`1`){$scope.dialog=dialogProvider.getDialog(`emailSuccess`,!0);$scope.dialog.active=!0}
else{$scope.dialog=dialogProvider.getDialog(`emailFailure`,!0);$scope.dialog.active=!0}}).catch(function onFailure(response){$scope.dialog=dialogProvider.getDialog(`emailFailure`,!0);$scope.dialog.active=!0})}
$scope.closeDialog=function(responseCode){if($scope.dialog.key===`emailSuccess`&&responseCode===1){$scope.resetEmail()}
$scope.dialog=null}}]).controller(`subController`,[`$scope`,`$location`,function($scope,$location){$scope.$emit(`pathChange`,$location.path())}])